---
layout: default
title: WebMaster Pages
keywords: mailer
---
<div class="container_body_wrapper">
  <div class="container_content">
    <div class="container_article">
      <article>
        <h1>Sending Email using Mailer</h1>
        {% highlight php %}
        <?php 
        $mailer = JFactory::getMailer();
        $config = JFactory::getConfig();
        $sender = array( 
            $config->get( 'mailfrom' ),
            $config->get( 'fromname' ) 
        );
         
        $mailer->setSender($sender);
        $recipients = array( 'dwight.b@nmp.co.za', 'support@hetzner.co.za', 'support@nmp.co.za' );
        $mailer->addRecipient($recipients);
        $mailer->setSubject('TEST MAIL SENDING');
        $body   = '<h2>MAIL CONFIRMATION</h2>'
            . '<div>A message to our dear readers</div>';
        $mailer->isHTML(true);
        $mailer->Encoding = 'base64';
        $mailer->setBody($body);
        $send = $mailer->Send();
        if ( $send !== true ) {
            echo 'Error sending email: ' . $send->__toString();
        } else {
            foreach ($recipients as $key => $recipient) {
                echo '<p>Mail sent to '.$recipient.'</p>';
            }
        }
         ?>
        {% endhighlight %}
      </article>
    </div>
    <aside class="container_aside">
      [add nav/banners here]
    </aside>
  </div>
</div>